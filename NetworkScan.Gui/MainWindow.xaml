<Window x:Class="NetworkScan.Gui.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:NetworkScan.Gui"
        mc:Ignorable="d"
        Title="Network Scan" Height="600" Width="920">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="3*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="1*"/>
        </Grid.RowDefinitions>

        <StackPanel Orientation="Vertical" Margin="10" Grid.Row="0">
            <WrapPanel Margin="0,0,0,8">
                <TextBlock Text="CIDR:" VerticalAlignment="Center"/>
                <ComboBox x:Name="CidrBox" IsEditable="True" Width="220" Margin="8,0,8,0" ToolTip="e.g. 192.168.1.0/24"/>
                <Button x:Name="DetectBtn" Content="Detect" Width="80" Margin="8,0,16,0" Click="DetectBtn_Click"/>
                <TextBlock Text="Range:" VerticalAlignment="Center"/>
                <TextBox x:Name="RangeBox" Width="220" Margin="8,0,16,0" ToolTip="e.g. 192.168.1.10-192.168.1.50"/>
                <TextBlock Text="Ports:" VerticalAlignment="Center"/>
                <TextBox x:Name="PortsBox" Width="180" Margin="8,0,16,0" ToolTip="22,80,443 or 1-1024"/>
                <CheckBox x:Name="SkipPortsBox" Content="Ping only" VerticalAlignment="Center"/>
            </WrapPanel>
            <WrapPanel>
                <TextBlock Text="Hosts conc.:" VerticalAlignment="Center"/>
                <TextBox x:Name="HostConcBox" Width="70" Margin="8,0,16,0" Text="256"/>
                <TextBlock Text="Ports conc.:" VerticalAlignment="Center"/>
                <TextBox x:Name="PortConcBox" Width="70" Margin="8,0,16,0" Text="128"/>
                <TextBlock Text="Timeout (ms):" VerticalAlignment="Center"/>
                <TextBox x:Name="TimeoutBox" Width="90" Margin="8,0,16,0" Text="250"/>
                <Button x:Name="StartBtn" Content="Start" Width="120" Click="StartBtn_Click"/>
                <Button x:Name="CancelBtn" Content="Cancel" Width="120" Margin="8,0,0,0" Click="CancelBtn_Click"/>
                <Button x:Name="SaveJsonBtn" Content="Save JSON" Width="120" Margin="16,0,0,0" Click="SaveJsonBtn_Click"/>
                <Button x:Name="SaveCsvBtn" Content="Save CSV" Width="120" Margin="8,0,0,0" Click="SaveCsvBtn_Click"/>
            </WrapPanel>
        </StackPanel>

        <DataGrid x:Name="ResultsGrid" Grid.Row="1" Margin="10" AutoGenerateColumns="False" IsReadOnly="True" MinHeight="120">
            <DataGrid.Columns>
                <DataGridTextColumn Header="IP" Binding="{Binding Address}" Width="1.2*"/>
                <DataGridCheckBoxColumn Header="Alive" Binding="{Binding Alive}" Width="Auto"/>
                <DataGridTextColumn Header="Name" Binding="{Binding Name}" Width="1.2*"/>
                <DataGridTextColumn Header="OS" Binding="{Binding Os}" Width="1*"/>
                <DataGridTextColumn Header="Vendor" Binding="{Binding Vendor}" Width="1*"/>
                <DataGridTextColumn Header="Model" Binding="{Binding Model}" Width="1*"/>
                <DataGridTextColumn Header="MAC" Binding="{Binding Mac}" Width="1*"/>
                <DataGridTextColumn Header="Open Ports" Binding="{Binding PortsText}" Width="1.5*"/>
            </DataGrid.Columns>
        </DataGrid>

        <!-- Vertical splitter between results and log -->
        <GridSplitter Grid.Row="2" Height="6" HorizontalAlignment="Stretch" Background="#FFE0E0E0" ShowsPreview="True"/>

        <TextBox x:Name="LogBox" Grid.Row="3" Margin="10" VerticalScrollBarVisibility="Auto" IsReadOnly="True" TextWrapping="Wrap" MinHeight="60"/>
    </Grid>
</Window>
